# Standard Block Comparison Method (標準ブロック比較法)

**"数字のマジック"から解き放たれ、行政施策の真の実効性を測るための監査フレームワーク**

## 概要 (Overview)
行政や企業が発表する「累計〇〇人」「予算〇〇億円」といった巨大な数字は、往々にして実態（ROI）を隠蔽するために利用されます。
本リポジトリでは、これらの数字を「基礎自治体（Standard Block）」という最小単位まで分解し、その施策が社会インフラとして機能しているか、あるいは単なる「誤差」に過ぎないのかを数学的に判定する手法「標準ブロック比較法」を提供します。

この手法は、フェルミ推定の考え方を応用し、日本の基礎自治体数（約1,700）を定数として用いることで、誰でも直感的に規模感を把握できる指標（Administrative Density）を算出します。

## 目的 (Purpose)
*   **行政監査のDX化:** 感情論ではなく、数式に基づいたロジカルな行政評価を行う。
*   **規模感の可視化:** 巨大すぎる数字を、市民が実感できるサイズ（1自治体あたりのキャパシティ）に変換する。
*   **Civic Techへの貢献:** 誰もが検証・利用可能な評価フォーマットをオープンソースとして公開する。

## 計算式 (The Formula)

行政施策の実効性インパクト ($I$) は、以下の式で定義されます。

$$ I = \frac{V}{B} $$

ここで、標準ブロック ($B$) は以下のように算出されます。

$$ B = \frac{P \times R}{N} $$

### 変数の定義
*   $P$ (Population): 日本の総人口（約1.24億人 ※2023年推計）
*   $R$ (Ratio): ターゲット属性の比率（例：全人口なら1.0, 若年層なら0.15など）
*   $N$ (Number): 全国の基礎自治体数（約1,718）
*   $V$ (Value): 発表された成果数（例：累計3,000人、予算100億円など）
*   $B$ (Block): 標準ブロック（1自治体あたりの平均ターゲット数）
*   $I$ (Impact): 実効性インパクト

### 判定基準 (v2.0)
算出されたインパクト値 ($I$) は、「全国1,718自治体のうち、いくつの自治体を満杯にできるか」を示します。
これに基づき、施策の「社会実装ステージ」を判定します。

| インパクト値 ($I$) | 普及率目安 | 判定 | 意味 (Benchmark) |
| :--- | :--- | :--- | :--- |
| **$I < 1.0$** | 0.05%未満 | **誤差レベル** | 論外。標準的な1自治体すらカバーできていない。 |
| **$1.0 \le I < 17$** | 1%未満 | **局所的** | 実験段階。まだ「アーリーアダプター」にも届いていない。 |
| **$17 \le I < 172$** | 1%〜10% | **普及フェーズ** | 「クラスに1人」レベル。認知が広がり始めている。 |
| **$172 \le I < 859$** | 10%〜50% | **基礎インフラ** | 「10人に1人」。水道・電気のような社会基盤になりつつある。 |
| **$I \ge 859$** | 50%以上 | **社会OS** | 過半数が利用。なくてはならない社会の前提。 |

## ケーススタディ (Case Studies)

### 1. 千葉県柏市：プレコンセプションケア事業
*   **リンク:** [柏市事業について](reports/kashiwa_report_2025.md)
*   **背景:** 市が「少子化対策」として民間企業と連携しアプリ等を導入。
*   **発表数値 ($V$):** 利用者 3,000人
*   **ターゲット比率 ($R$):** 0.15 (出産適齢期女性と仮定)
*   **標準ブロック ($B$):** $124,000,000 \times 0.15 \div 1,718 \approx 10,826$ 人
*   **分析結果 ($I$):** $3,000 \div 10,826 \approx$ **0.27**
*   **結論:** 全国換算で「1自治体あたり0.3人」しか利用していない計算となり、施策としての普及率は**「誤差レベル」**である。

### 2. 大阪・関西万博：来場者目標
*   **リンク:** [大阪万博について 2025](reports/osaka_expo_analysis_en.md)
*   **背景:** 2025年開催予定の万博の来場者数目標。
*   **発表数値 ($V$):** 2,820万人
*   **ターゲット比率 ($R$):** 1.0 (全人口対象)
*   **標準ブロック ($B$):** $124,000,000 \times 1.0 \div 1,718 \approx 72,176$ 人
*   **分析結果 ($I$):** $28,200,000 \div 72,176 \approx$ **390**
*   **解釈の転換:** この数字は「すべての自治体から平均390人が行く」とも読めるが、逆説的に「1自治体あたり平均1.6万人を動員しないと達成不能（※期間中のリピート含む）」という兵站（ロジスティクス）の非現実性を示唆している。

## Python版の使い方 (Usage)

リポジトリに含まれるPythonスクリプトを使用して、手元の数値を簡単に検証できます。

### 必要要件
*   Python 3.6+

### 実行コマンド
```bash
# 人数の検証例 (3000人、ターゲット比率100%)
python methodology/block_calculator.py --value 3000 --target_ratio 1.0

# 予算の検証例 (100億円、ターゲット比率100%)
python methodology/block_calculator.py --value 10000000000 --target_ratio 1.0
```

## Googleスプレッドシート版の使い方 (For Everyone)
プログラミング不要で、表計算ソフト上で計算できます。
`methodology/google_sheets_script.js` のコードを、Googleスプレッドシートの「拡張機能 > Apps Script」にコピペして保存してください。

**使用例:**
| A列 (発表数値) | B列 (ターゲット比率) | C列 (インパクト) | D列 (判定) |
| :--- | :--- | :--- | :--- |
| 3000 | 0.15 | `=IMPACT_SCORE(A2, B2)` | `=IMPACT_VERDICT(C2)` |

## 統計的検証（モンテカルロ・シミュレーション）
「ターゲット比率の推計が甘いのでは？」「観測データに誤差があるのでは？」という指摘に対し、本手法の結論が揺らがないか（堅牢性）を検証するためのスクリプトです。
ターゲット比率の不確実性や観測誤差を考慮し、数万回のシミュレーションを行って信頼区間を算出します。

### 必要要件
*   Python 3.6+
*   **NumPy** ライブラリ

### 実行方法

1. ライブラリのインストール
```bash
pip install numpy
```

2. シミュレーションの実行
```bash
# 基本的な検証（柏市の例：3000人、比率0.15）
python verification/sensitivity_analysis.py --value 3000 --target_ratio 0.15

# 詳細設定（不確実性 ±10% を想定する場合など）
# -sd オプションで標準偏差を指定できます（デフォルトは0.03）
python verification/sensitivity_analysis.py --value 28200000 --target_ratio 1.0 --ratio_sd 0.1
```

### 出力例
「95%信頼区間（95% CI）」の下限値が 1.0 を下回っている場合、その施策は「統計的誤差を考慮しても失敗（誤差レベル）」であると断定できます。
```
